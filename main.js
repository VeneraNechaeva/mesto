(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e,n,r,o,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._templateSelector=n,this._data=e,this._handleCardClick=r,this._handleFormConfirmSubmit=o,this._api=i,this._liked=void 0!==e.likes.find((function(t){return t._id===u})),this._isMy=e.owner._id===u}var n,r;return n=t,(r=[{key:"getData",value:function(){return this._data}},{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_handleLikeCard",value:function(t){var e=this;(this._liked?this._api.deletLike(this._data._id):this._api.setLike(this._data._id)).then((function(n){t.target.classList.toggle("element__icon-like_active"),e._liked?e._likesCount.textContent=e._data.likes.length:e._likesCount.textContent=e._data.likes.length+1,e._liked=!e._liked})).catch((function(t){console.log(t)}))}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"_setEventListeners",value:function(){var t=this;this._cardLikeButton.addEventListener("click",(function(e){t._handleLikeCard(e)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick(t._data.name,t._data.link)})),this._cardDeleteButton.addEventListener("click",(function(e){t._handleFormConfirmSubmit(e,t)}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardLikeButton=this._element.querySelector(".element__icon-like"),this._cardDeleteButton=this._element.querySelector(".element__delete-button"),this._cardImage=this._element.querySelector(".element__image"),this._likesCount=this._element.querySelector(".element__counter"),this._setEventListeners(),this._cardImage.src=this._data.link,this._cardImage.alt=this._data.name,this._likesCount.textContent=this._data.likes.length,this._element.querySelector(".element__text").textContent=this._data.name,this._liked&&this._cardLikeButton.classList.add("element__icon-like_active"),this._isMy||this._cardDeleteButton.remove(),this._element}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),r=document.querySelector(".profile"),o=r.querySelector(".profile__edit-button"),i=document.forms["edit-profile"],u=i.querySelector(".popup__field_text_name"),a=i.querySelector(".popup__field_text_info"),c=(document.querySelector(".elements"),r.querySelector(".profile__add-button")),l=document.querySelector(".profile__avatar-button"),s=document.querySelector(".profile__avatar");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var d=function(){function t(e,n){var r,o,i,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=function(){u._formElement.addEventListener("reset",(function(){u._disableButtonSubmit()})),u._toggleButtonState(),u._inputList.forEach((function(t){t.addEventListener("input",(function(){u._checkInputValidity(t),u._toggleButtonState()}))}))},(o=y(o="_setEventListeners"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,this._settingsObject=e,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._settingsObject.inputSelector)),this._buttonElement=this._formElement.querySelector(this._settingsObject.submitButtonSelector),this._errorElements={},this._inputList.forEach((function(t){var e=u._formElement.querySelector(".".concat(t.id,"-error"));u._errorElements[t.id]=e}))}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(t){return t.preventDefault()})),this._setEventListeners()}},{key:"_checkInputValidity",value:function(t){var e=this._errorElements[t.id];t.validity.valid?this._hideInputError(e,t):this._showInputError(e,t,t.validationMessage)}},{key:"_showInputError",value:function(t,e,n){e.classList.add(this._settingsObject.inputErrorClass),t.textContent=n,t.classList.add(this._settingsObject.errorClass)}},{key:"_hideInputError",value:function(t,e){e.classList.remove(this._settingsObject.inputErrorClass),t.classList.remove(this._settingsObject.errorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButtonSubmit():(this._buttonElement.classList.remove(this._settingsObject.inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"_disableButtonSubmit",value:function(){this._buttonElement.classList.add(this._settingsObject.inactiveButtonClass),this._buttonElement.setAttribute("disabled","disabled")}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){var n=t._errorElements[e.id];t._hideInputError(n,e)}))}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===h(o)?o:String(o)),r)}var o}var b=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._renderedItems.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&m(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e,n){return(e=E(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function E(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===v(e)?e:String(e)}var O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var e,n;return e=t,(n=[{key:"_sendRequest",value:function(t,e){return fetch(t,e).then((function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}))}},{key:"getUserInformation",value:function(){return this._sendRequest("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers})}},{key:"getInitialCards",value:function(){return this._sendRequest("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers})}},{key:"savetUserInformation",value:function(t,e){return this._sendRequest("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:g(g({},this._headers),{"Content-Type":"application/json"}),body:JSON.stringify({name:t,about:e})})}},{key:"addNewCard",value:function(t,e){return this._sendRequest("".concat(this._baseUrl,"/cards"),{method:"POST",headers:g(g({},this._headers),{"Content-Type":"application/json"}),body:JSON.stringify({name:t,link:e})})}},{key:"deletСard",value:function(t){return this._sendRequest("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers})}},{key:"setLike",value:function(t){return this._sendRequest("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers})}},{key:"deletLike",value:function(t){return this._sendRequest("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers})}},{key:"changeАvatar",value:function(t){return this._sendRequest("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:g(g({},this._headers),{"Content-Type":"application/json"}),body:JSON.stringify({avatar:t})})}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("mousedown",(function(e){e.target.classList.contains("popup_opened")&&t.close(),e.target.classList.contains("popup__close-icon")&&t.close()}))}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},T.apply(this,arguments)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(r);if(o){var n=q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImage=e._popupElement.querySelector(".popup__image"),e._popupText=e._popupElement.querySelector(".popup__text"),e}return e=u,(n=[{key:"open",value:function(t,e){T(q(u.prototype),"open",this).call(this),this._popupImage.src=e,this._popupImage.alt=t,this._popupText.textContent=t}}])&&L(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},D.apply(this,arguments)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(r);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return A(t)}(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._resetFormOnClose=n,r._handleFormCardSubmit=e.bind(A(r)),r._form=r._popupElement.querySelector("form"),r._popupButton=r._popupElement.querySelector(".popup__button"),r}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return Array.from(this._form.querySelectorAll("input")).forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;D(F(u.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",(function(e){t._handleFormCardSubmit(e,t._getInputValues(),t._popupButton)}))}},{key:"close",value:function(){D(F(u.prototype),"close",this).call(this),this._resetFormOnClose&&this._form.reset()}}])&&x(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===N(o)?o:String(o)),r)}var o}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},M.apply(this,arguments)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(r);if(o){var n=z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormConfirmSubmit=e.bind(H(n)),n}return e=u,(n=[{key:"open",value:function(t,e){M(z(u.prototype),"open",this).call(this),this._card=e}},{key:"setEventListeners",value:function(){var t=this;M(z(u.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",(function(e){t._handleFormConfirmSubmit(e,t._card),t.close()}))}}])&&J(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Q(o)?o:String(o)),r)}var o}var X,Y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameSelector=document.querySelector(e),this._infoSelector=document.querySelector(n)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameSelector.textContent,info:this._infoSelector.textContent}}},{key:"setUserInfo",value:function(t,e){this._nameSelector.textContent=t,this._infoSelector.textContent=e}}])&&W(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Z=new O({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-66",headers:{authorization:"e9c671c4-c4d8-4942-9020-977fdfc1a3d7","Content-Type":"application/json"}}),$=new Y(".profile__title",".profile__subtitle");Z.getUserInformation().then((function(t){$.setUserInfo(t.name,t.about),s.src=t.avatar,Z.getInitialCards().then((function(e){(X=new b({items:e,renderer:function(e){var n=it(e,t._id);X.addItem(n)}},".elements")).renderItems()})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}));var tt=new V(".popup_edit",(function(t,e,n){var r=e.name,o=e.info;et(n,"Сохранение..."),Z.savetUserInformation(r,o).then((function(t){$.setUserInfo(r,o)})).catch((function(t){console.log(t)})).finally((function(){et(n,"Сохранить"),tt.close()}))}),!1);function et(t,e){t.textContent=e}tt.setEventListeners();var nt=new V(".popup_add",(function(t,e,n){t.preventDefault(),et(n,"Сохранение..."),Z.addNewCard(e.name,e.link).then((function(t){var e=it(t);X.addItem(e),nt.close(nt)})).catch((function(t){console.log(t)})).finally((function(){et(n,"Добавить")}))}),!0);nt.setEventListeners();var rt=new R(".popup_img");rt.setEventListeners();var ot=new K(".popup_confirm",(function(t,e){t.preventDefault(),Z.deletСard(e.getData()._id).then((function(t){ot.close(),e.deleteCard()})).catch((function(t){console.log(t)}))}),!0);function it(t,e){return new n(t,"#card",rt.open.bind(rt),ot.open.bind(ot),Z,e).generateCard()}ot.setEventListeners();var ut,at={};ut={formSelector:".popup__form",inputSelector:".popup__field",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__field_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(ut.formSelector)).forEach((function(t){var e=new d(ut,t),n=t.getAttribute("name");at[n]=e,e.enableValidation()})),o.addEventListener("click",(function(t){var e,n;e=tt,n=$.getUserInfo(),u.value=n.name,a.value=n.info,e.open(),at["edit-profile"].resetValidation()})),c.addEventListener("click",(function(t){var e;(e=nt).open(e)}));var ct=new V(".popup_avatar",(function(t,e,n){t.preventDefault(),et(n,"Сохранение..."),Z.changeАvatar(e.avatar).then((function(t){s.src=t.avatar})).catch((function(t){console.log(t)})).finally((function(){et(n,"Сохранить"),ct.close()}))}),!0);ct.setEventListeners(),l.addEventListener("click",(function(t){var e;(e=ct).open(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoic3JCQUFPLElBQU1BLEVBQUksV0FDZixTQUFBQSxFQUFZQyxFQUFNQyxFQUFrQkMsRUFBaUJDLEVBQXlCQyxFQUFLQyxJLDRGQUFRQyxDQUFBLEtBQUFQLEdBQ3pGUSxLQUFLQyxrQkFBb0JQLEVBQ3pCTSxLQUFLRSxNQUFRVCxFQUNiTyxLQUFLRyxpQkFBbUJSLEVBQ3hCSyxLQUFLSSx5QkFBMkJSLEVBQ2hDSSxLQUFLSyxLQUFPUixFQUNaRyxLQUFLTSxZQUF3REMsSUFBL0NkLEVBQUtlLE1BQU1DLE1BQUssU0FBQ0MsR0FBRSxPQUFLQSxFQUFHQyxNQUFRYixDQUFNLElBQ3ZERSxLQUFLWSxNQUFRbkIsRUFBS29CLE1BQU1GLE1BQVFiLENBQ2xDLEMsUUFvRkMsTyxFQXBGQU4sRyxFQUFBLEVBQUFzQixJQUFBLFVBQUFDLE1BRUQsV0FDRSxPQUFPZixLQUFLRSxLQUNkLEdBQ0EsQ0FBQVksSUFBQSxlQUFBQyxNQUNBLFdBT0UsT0FOb0JDLFNBQ2pCQyxjQUFjakIsS0FBS0MsbUJBQ25CaUIsUUFDQUQsY0FBYyxZQUNkRSxXQUFVLEVBR2YsR0FFQSxDQUFBTCxJQUFBLGtCQUFBQyxNQUNBLFNBQWdCSyxHQUFLLElBQUFDLEVBQUEsTUFFZnJCLEtBQUtNLE9BQ0lOLEtBQUtLLEtBQUtpQixVQUFVdEIsS0FBS0UsTUFBTVMsS0FHL0JYLEtBQUtLLEtBQUtrQixRQUFRdkIsS0FBS0UsTUFBTVMsTUFHakNhLE1BQUssU0FBQy9CLEdBQ2IyQixFQUFJSyxPQUFPQyxVQUFVQyxPQUFPLDZCQUN4Qk4sRUFBS2YsT0FDUGUsRUFBS08sWUFBWUMsWUFBY1IsRUFBS25CLE1BQU1NLE1BQU1zQixPQUVoRFQsRUFBS08sWUFBWUMsWUFBY1IsRUFBS25CLE1BQU1NLE1BQU1zQixPQUFTLEVBRzNEVCxFQUFLZixRQUFVZSxFQUFLZixNQUN0QixJQUNHeUIsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLEdBQ0osR0FFQSxDQUFBbEIsSUFBQSxhQUFBQyxNQUNBLFdBQ0VmLEtBQUttQyxTQUFTQyxRQUNoQixHQUVBLENBQUF0QixJQUFBLHFCQUFBQyxNQUNBLFdBQXFCLElBQUFzQixFQUFBLEtBRW5CckMsS0FBS3NDLGdCQUFnQkMsaUJBQWlCLFNBQVMsU0FBQ25CLEdBQzlDaUIsRUFBS0csZ0JBQWdCcEIsRUFDdkIsSUFFQXBCLEtBQUt5QyxXQUFXRixpQkFBaUIsU0FBUyxXQUN4Q0YsRUFBS2xDLGlCQUFpQmtDLEVBQUtuQyxNQUFNd0MsS0FBTUwsRUFBS25DLE1BQU15QyxLQUNwRCxJQUVBM0MsS0FBSzRDLGtCQUFrQkwsaUJBQWlCLFNBQVMsU0FBQ25CLEdBQ2hEaUIsRUFBS2pDLHlCQUF5QmdCLEVBQUtpQixFQUNyQyxHQUNGLEdBRUEsQ0FBQXZCLElBQUEsZUFBQUMsTUFDQSxXQW9CRSxPQW5CQWYsS0FBS21DLFNBQVduQyxLQUFLNkMsZUFDckI3QyxLQUFLc0MsZ0JBQWtCdEMsS0FBS21DLFNBQVNsQixjQUFjLHVCQUNuRGpCLEtBQUs0QyxrQkFBb0I1QyxLQUFLbUMsU0FBU2xCLGNBQWMsMkJBQ3JEakIsS0FBS3lDLFdBQWF6QyxLQUFLbUMsU0FBU2xCLGNBQWMsbUJBQzlDakIsS0FBSzRCLFlBQWM1QixLQUFLbUMsU0FBU2xCLGNBQWMscUJBQy9DakIsS0FBSzhDLHFCQUNMOUMsS0FBS3lDLFdBQVdNLElBQU0vQyxLQUFLRSxNQUFNeUMsS0FDakMzQyxLQUFLeUMsV0FBV08sSUFBTWhELEtBQUtFLE1BQU13QyxLQUNqQzFDLEtBQUs0QixZQUFZQyxZQUFjN0IsS0FBS0UsTUFBTU0sTUFBTXNCLE9BQ2hEOUIsS0FBS21DLFNBQVNsQixjQUFjLGtCQUFrQlksWUFBYzdCLEtBQUtFLE1BQU13QyxLQUVuRTFDLEtBQUtNLFFBQ1BOLEtBQUtzQyxnQkFBZ0JaLFVBQVV1QixJQUFJLDZCQUdoQ2pELEtBQUtZLE9BQ1JaLEtBQUs0QyxrQkFBa0JSLFNBR2xCcEMsS0FBS21DLFFBQ2QsTSxvRUFBQzNDLENBQUEsQ0E3RmMsR0NZSjBELEVBQVVsQyxTQUFTQyxjQUFjLFlBQ2pDa0MsRUFBb0JELEVBQVFqQyxjQUFjLHlCQUMxQ21DLEVBQWdCcEMsU0FBU3FDLE1BQU0sZ0JBQy9CQyxFQUFZRixFQUFjbkMsY0FBYywyQkFDeENzQyxFQUFZSCxFQUFjbkMsY0FBYywyQkFJeEN1QyxHQUhleEMsU0FBU0MsY0FBYyxhQUduQmlDLEVBQVFqQyxjQUFjLHlCQUV6Q3dDLEVBQWV6QyxTQUFTQyxjQUFjLDJCQUN0Q3lDLEVBQVkxQyxTQUFTQyxjQUFjLG9CLGtyQkN2QnpDLElBQU0wQyxFQUFhLFdBQ3hCLFNBQUFBLEVBQVlDLEVBQWdCQyxHQUFhLEksTUFBQXhDLEVBQUEsTSw0RkFBQXRCLENBQUEsS0FBQTRELEcsRUFtRnpDLEssRUFDcUIsV0FDbkJ0QyxFQUFLeUMsYUFBYXZCLGlCQUFpQixTQUFTLFdBQzFDbEIsRUFBSzBDLHNCQUNQLElBQ0ExQyxFQUFLMkMscUJBR0wzQyxFQUFLNEMsV0FBV0MsU0FBUSxTQUFDQyxHQUN2QkEsRUFBYTVCLGlCQUFpQixTQUFTLFdBQ3JDbEIsRUFBSytDLG9CQUFvQkQsR0FFekI5QyxFQUFLMkMsb0JBQ1AsR0FDRixHQUNGLEcsTUFmQSx5Qix3RkFsRkVoRSxLQUFLcUUsZ0JBQWtCVCxFQUN2QjVELEtBQUs4RCxhQUFlRCxFQUNwQjdELEtBQUtpRSxXQUFhSyxNQUFNQyxLQUFLdkUsS0FBSzhELGFBQWFVLGlCQUFpQnhFLEtBQUtxRSxnQkFBZ0JJLGdCQUNyRnpFLEtBQUswRSxlQUFpQjFFLEtBQUs4RCxhQUFhN0MsY0FBY2pCLEtBQUtxRSxnQkFBZ0JNLHNCQUMzRTNFLEtBQUs0RSxlQUFpQixDQUFDLEVBQ3ZCNUUsS0FBS2lFLFdBQVdDLFNBQVEsU0FBQUMsR0FDdEIsSUFBTVUsRUFBUXhELEVBQUt5QyxhQUFhN0MsY0FBYyxJQUFENkQsT0FBS1gsRUFBYVksR0FBRSxXQUNqRTFELEVBQUt1RCxlQUFlVCxFQUFhWSxJQUFNRixDQUN6QyxHQUNGLEMsUUFzRUMsTyxFQXBFRGxCLEcsRUFBQSxFQUFBN0MsSUFBQSxtQkFBQUMsTUFDQSxXQUNFZixLQUFLOEQsYUFBYXZCLGlCQUFpQixVQUFVLFNBQUFuQixHQUFHLE9BQUlBLEVBQUk0RCxnQkFBZ0IsSUFDeEVoRixLQUFLOEMsb0JBQ1AsR0FBQyxDQUFBaEMsSUFBQSxzQkFBQUMsTUFHRCxTQUFvQm9ELEdBQ2xCLElBQU1jLEVBQWVqRixLQUFLNEUsZUFBZVQsRUFBYVksSUFDakRaLEVBQWFlLFNBQVNDLE1BS3pCbkYsS0FBS29GLGdCQUFnQkgsRUFBY2QsR0FIbkNuRSxLQUFLcUYsZ0JBQWdCSixFQUFjZCxFQUFjQSxFQUFhbUIsa0JBS2xFLEdBQUMsQ0FBQXhFLElBQUEsa0JBQUFDLE1BR0QsU0FBZ0JrRSxFQUFjZCxFQUFjb0IsR0FDMUNwQixFQUFhekMsVUFBVXVCLElBQUlqRCxLQUFLcUUsZ0JBQWdCbUIsaUJBQ2hEUCxFQUFhcEQsWUFBYzBELEVBQzNCTixFQUFhdkQsVUFBVXVCLElBQUlqRCxLQUFLcUUsZ0JBQWdCb0IsV0FDbEQsR0FBQyxDQUFBM0UsSUFBQSxrQkFBQUMsTUFHRCxTQUFnQmtFLEVBQWNkLEdBQzVCQSxFQUFhekMsVUFBVVUsT0FBT3BDLEtBQUtxRSxnQkFBZ0JtQixpQkFDbkRQLEVBQWF2RCxVQUFVVSxPQUFPcEMsS0FBS3FFLGdCQUFnQm9CLFlBQ25EUixFQUFhcEQsWUFBYyxFQUM3QixHQUFDLENBQUFmLElBQUEsbUJBQUFDLE1BR0QsV0FDRSxPQUFPZixLQUFLaUUsV0FBV3lCLE1BQUssU0FBQ3ZCLEdBSTNCLE9BQVFBLEVBQWFlLFNBQVNDLEtBQ2hDLEdBQ0YsR0FBQyxDQUFBckUsSUFBQSxxQkFBQUMsTUFHRCxXQUVNZixLQUFLMkYsbUJBRVAzRixLQUFLK0Qsd0JBR0wvRCxLQUFLMEUsZUFBZWhELFVBQVVVLE9BQU9wQyxLQUFLcUUsZ0JBQWdCdUIscUJBQzFENUYsS0FBSzBFLGVBQWVtQixnQkFBZ0IsWUFFeEMsR0FBQyxDQUFBL0UsSUFBQSx1QkFBQUMsTUFHRCxXQUNFZixLQUFLMEUsZUFBZWhELFVBQVV1QixJQUFJakQsS0FBS3FFLGdCQUFnQnVCLHFCQUN2RDVGLEtBQUswRSxlQUFlb0IsYUFBYSxXQUFZLFdBQy9DLEdBQUMsQ0FBQWhGLElBQUEsa0JBQUFDLE1BR0QsV0FBa0IsSUFBQXNCLEVBQUEsS0FDaEJyQyxLQUFLZ0UscUJBQ0xoRSxLQUFLaUUsV0FBV0MsU0FBUSxTQUFDQyxHQUN2QixJQUFNYyxFQUFlNUMsRUFBS3VDLGVBQWVULEVBQWFZLElBQ3REMUMsRUFBSytDLGdCQUFnQkgsRUFBY2QsRUFDckMsR0FDRixNLG9FQUFDUixDQUFBLENBakZ1QixHLG1xQkNBbkIsSUFBTW9DLEVBQU8sV0FDbEIsU0FBQUEsRUFBQUMsRUFBaUNDLEdBQW1CLElBQXRDQyxFQUFLRixFQUFMRSxNQUFPQyxFQUFRSCxFQUFSRyxVLDRGQUFRcEcsQ0FBQSxLQUFBZ0csR0FDM0IvRixLQUFLb0csZUFBaUJGLEVBQ3RCbEcsS0FBS3FHLFVBQVlGLEVBQ2pCbkcsS0FBS3NHLFdBQWF0RixTQUFTQyxjQUFjZ0YsRUFDM0MsQyxRQVlDLE8sRUFWREYsRyxFQUFBLEVBQUFqRixJQUFBLGNBQUFDLE1BQ0EsV0FBYyxJQUFBTSxFQUFBLEtBQ1pyQixLQUFLb0csZUFBZWxDLFNBQVEsU0FBQXFDLEdBQzFCbEYsRUFBS2dGLFVBQVVFLEVBQ2pCLEdBQ0YsR0FFQSxDQUFBekYsSUFBQSxVQUFBQyxNQUNBLFNBQVF5RixHQUNOeEcsS0FBS3NHLFdBQVdHLFFBQVFELEVBQzFCLE0sb0VBQUNULENBQUEsQ0FqQmlCLEcsODJDQ0FiLElBQU1XLEVBQUcsV0FDZCxTQUFBQSxFQUFZQyxJLDRGQUFTNUcsQ0FBQSxLQUFBMkcsR0FDbkIxRyxLQUFLNEcsU0FBV0QsRUFBUUUsUUFDeEI3RyxLQUFLOEcsU0FBV0gsRUFBUUksT0FDMUIsQyxRQXVGQyxPLEVBckZETCxHLEVBQUEsRUFBQTVGLElBQUEsZUFBQUMsTUFDQSxTQUFhaUcsRUFBS0wsR0FFaEIsT0FBT00sTUFBTUQsRUFBS0wsR0FDZm5GLE1BQUssU0FBQzBGLEdBQ0wsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBTyxXQUFEeEMsT0FBWW9DLEVBQUlLLFFBQ3ZDLEdBQ0osR0FFQSxDQUFBekcsSUFBQSxxQkFBQUMsTUFDQSxXQUNFLE9BQU9mLEtBQUt3SCxhQUFhLEdBQUQxQyxPQUFJOUUsS0FBSzRHLFNBQVEsYUFBYSxDQUNwRGEsT0FBUSxNQUNSVixRQUFTL0csS0FBSzhHLFVBRWxCLEdBRUEsQ0FBQWhHLElBQUEsa0JBQUFDLE1BQ0EsV0FDRSxPQUFPZixLQUFLd0gsYUFBYSxHQUFEMUMsT0FBSTlFLEtBQUs0RyxTQUFRLFVBQVUsQ0FDakRhLE9BQVEsTUFDUlYsUUFBUy9HLEtBQUs4RyxVQUVsQixHQUVBLENBQUFoRyxJQUFBLHVCQUFBQyxNQUNBLFNBQXFCMkIsRUFBTWdGLEdBQ3pCLE9BQU8xSCxLQUFLd0gsYUFBYSxHQUFEMUMsT0FBSTlFLEtBQUs0RyxTQUFRLGFBQWEsQ0FDcERhLE9BQVEsUUFDUlYsUUFBT1ksRUFBQUEsRUFBQSxHQUFPM0gsS0FBSzhHLFVBQWEsQ0FBRSxlQUFnQixxQkFDbERjLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJwRixLQUFNQSxFQUNOZ0YsTUFBT0EsS0FHYixHQUVBLENBQUE1RyxJQUFBLGFBQUFDLE1BQ0EsU0FBVzJCLEVBQU1DLEdBQ2YsT0FBTzNDLEtBQUt3SCxhQUFhLEdBQUQxQyxPQUFJOUUsS0FBSzRHLFNBQVEsVUFBVSxDQUNqRGEsT0FBUSxPQUNSVixRQUFPWSxFQUFBQSxFQUFBLEdBQU8zSCxLQUFLOEcsVUFBYSxDQUFFLGVBQWdCLHFCQUNsRGMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnBGLEtBQU1BLEVBQ05DLEtBQU1BLEtBR1osR0FFQSxDQUFBN0IsSUFBQSxZQUFBQyxNQUNBLFNBQVVnSCxHQUNSLE9BQU8vSCxLQUFLd0gsYUFBYSxHQUFEMUMsT0FBSTlFLEtBQUs0RyxTQUFRLFdBQUE5QixPQUFVaUQsR0FBVSxDQUMzRE4sT0FBUSxTQUNSVixRQUFTL0csS0FBSzhHLFVBRWxCLEdBR0EsQ0FBQWhHLElBQUEsVUFBQUMsTUFDQSxTQUFRZ0gsR0FDTixPQUFPL0gsS0FBS3dILGFBQWEsR0FBRDFDLE9BQUk5RSxLQUFLNEcsU0FBUSxXQUFBOUIsT0FBVWlELEVBQU0sVUFBVSxDQUNqRU4sT0FBUSxNQUNSVixRQUFTL0csS0FBSzhHLFVBRWxCLEdBQ0EsQ0FBQWhHLElBQUEsWUFBQUMsTUFDQSxTQUFVZ0gsR0FDUixPQUFPL0gsS0FBS3dILGFBQWEsR0FBRDFDLE9BQUk5RSxLQUFLNEcsU0FBUSxXQUFBOUIsT0FBVWlELEVBQU0sVUFBVSxDQUNqRU4sT0FBUSxTQUNSVixRQUFTL0csS0FBSzhHLFVBRWxCLEdBRUEsQ0FBQWhHLElBQUEsZUFBQUMsTUFDQSxTQUFhaUgsR0FDWCxPQUFPaEksS0FBS3dILGFBQWEsR0FBRDFDLE9BQUk5RSxLQUFLNEcsU0FBUSxvQkFBb0IsQ0FDM0RhLE9BQVEsUUFDUlYsUUFBT1ksRUFBQUEsRUFBQSxHQUFPM0gsS0FBSzhHLFVBQWEsQ0FBRSxlQUFnQixxQkFDbERjLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJFLE9BQVFBLEtBR2QsTSxvRUFBQ3RCLENBQUEsQ0EzRmEsRyxtcUJDQVQsSUFBTXVCLEVBQUssV0FDaEIsU0FBQUEsRUFBWUMsSSw0RkFBZW5JLENBQUEsS0FBQWtJLEdBQ3pCakksS0FBS21JLGNBQWdCbkgsU0FBU0MsY0FBY2lILEdBQzVDbEksS0FBS29JLGdCQUFrQnBJLEtBQUtvSSxnQkFBZ0JDLEtBQUtySSxLQUNuRCxDLFFBZ0NDLE8sRUE5QkRpSSxHLEVBQUEsRUFBQW5ILElBQUEsT0FBQUMsTUFDQSxXQUNFZixLQUFLbUksY0FBY3pHLFVBQVV1QixJQUFJLGdCQUNqQ2pDLFNBQVN1QixpQkFBaUIsVUFBV3ZDLEtBQUtvSSxnQkFDNUMsR0FFQSxDQUFBdEgsSUFBQSxRQUFBQyxNQUNBLFdBQ0VmLEtBQUttSSxjQUFjekcsVUFBVVUsT0FBTyxnQkFDcENwQixTQUFTc0gsb0JBQW9CLFVBQVd0SSxLQUFLb0ksZ0JBRS9DLEdBRUEsQ0FBQXRILElBQUEsa0JBQUFDLE1BQ0EsU0FBZ0JLLEdBQ0UsV0FBWkEsRUFBSU4sS0FDTmQsS0FBS3VJLE9BRVQsR0FFQSxDQUFBekgsSUFBQSxvQkFBQUMsTUFDQSxXQUFvQixJQUFBTSxFQUFBLEtBQ2xCckIsS0FBS21JLGNBQWM1RixpQkFBaUIsYUFBYSxTQUFDbkIsR0FDNUNBLEVBQUlLLE9BQU9DLFVBQVU4RyxTQUFTLGlCQUNoQ25ILEVBQUtrSCxRQUVIbkgsRUFBSUssT0FBT0MsVUFBVThHLFNBQVMsc0JBQ2hDbkgsRUFBS2tILE9BRVQsR0FDRixNLG9FQUFDTixDQUFBLENBcENlLEcsZ3ZDQ0VYLElBQU1RLEVBQWMsU0FBQUMsSSxxUkFBQUMsQ0FBQUYsRUFBQUMsR0FBQSxJLFFBQUFFLEcsRUFBQUgsRSxxckJBQ3pCLFNBQUFBLEVBQVlQLEdBQWUsSUFBQTdHLEVBRzBDLE8sNEZBSDFDdEIsQ0FBQSxLQUFBMEksSUFDekJwSCxFQUFBdUgsRUFBQUMsS0FBQSxLQUFNWCxJQUNEWSxZQUFjekgsRUFBSzhHLGNBQWNsSCxjQUFjLGlCQUNwREksRUFBSzBILFdBQWExSCxFQUFLOEcsY0FBY2xILGNBQWMsZ0JBQWdCSSxDQUNyRSxDQU9DLE8sRUFORG9ILEcsRUFBQSxFQUFBM0gsSUFBQSxPQUFBQyxNQUNBLFNBQUsyQixFQUFNQyxHQUNUcUcsRUFBQUMsRUFBQVIsRUFBQVMsV0FBQSxhQUFBTCxLQUFBLE1BQ0E3SSxLQUFLOEksWUFBWS9GLElBQU1KLEVBQ3ZCM0MsS0FBSzhJLFlBQVk5RixJQUFNTixFQUN2QjFDLEtBQUsrSSxXQUFXbEgsWUFBY2EsQ0FDaEMsTSxvRUFBQytGLENBQUEsQ0Fad0IsQ0FBU1IsRywyMkNDQTdCLElBQU1rQixFQUFhLFNBQUFULEkscVJBQUFDLENBQUFRLEVBQUFULEdBQUEsSSxRQUFBRSxHLEVBQUFPLEUsNmpCQUN4QixTQUFBQSxFQUFZakIsRUFBZWtCLEVBQXNCQyxHQUFrQixJQUFBaEksRUFLTSxPLDRGQUxOdEIsQ0FBQSxLQUFBb0osSUFDakU5SCxFQUFBdUgsRUFBQUMsS0FBQSxLQUFNWCxJQUNEb0Isa0JBQW9CRCxFQUN6QmhJLEVBQUtrSSxzQkFBd0JILEVBQXFCZixLQUFJbUIsRUFBQW5JLElBQ3REQSxFQUFLb0ksTUFBUXBJLEVBQUs4RyxjQUFjbEgsY0FBYyxRQUM5Q0ksRUFBS3FJLGFBQWVySSxFQUFLOEcsY0FBY2xILGNBQWMsa0JBQWtCSSxDQUN6RSxDQXVCQyxPLEVBdEJEOEgsRyxFQUFBLEVBQUFySSxJQUFBLGtCQUFBQyxNQUNBLFdBQ0UsSUFBTTRJLEVBQVMsQ0FBQyxFQUloQixPQUhBckYsTUFBTUMsS0FBS3ZFLEtBQUt5SixNQUFNakYsaUJBQWlCLFVBQVVOLFNBQVEsU0FBQXNDLEdBQ3ZEbUQsRUFBT25ELEVBQVE5RCxNQUFROEQsRUFBUXpGLEtBQ2pDLElBQ080SSxDQUNULEdBQUMsQ0FBQTdJLElBQUEsb0JBQUFDLE1BRUQsV0FBb0IsSUFBQXNCLEVBQUEsS0FDbEIyRyxFQUFBQyxFQUFBRSxFQUFBRCxXQUFBLDBCQUFBTCxLQUFBLE1BQ0E3SSxLQUFLbUksY0FBYzVGLGlCQUFpQixVQUFVLFNBQUNuQixHQUM3Q2lCLEVBQUtrSCxzQkFBc0JuSSxFQUFLaUIsRUFBS3VILGtCQUFtQnZILEVBQUtxSCxhQUMvRCxHQUNGLEdBRUEsQ0FBQTVJLElBQUEsUUFBQUMsTUFDQSxXQUNFaUksRUFBQUMsRUFBQUUsRUFBQUQsV0FBQSxjQUFBTCxLQUFBLE1BQ0k3SSxLQUFLc0osbUJBQ1B0SixLQUFLeUosTUFBTUksT0FFZixNLG9FQUFDVixDQUFBLENBOUJ1QixDQUFTbEIsRywyMkNDQTVCLElBQU02QixFQUFxQixTQUFBcEIsSSxxUkFBQUMsQ0FBQW1CLEVBQUFwQixHQUFBLEksUUFBQUUsRyxFQUFBa0IsRSw2akJBQ2hDLFNBQUFBLEVBQVk1QixFQUFldEksR0FBeUIsSUFBQXlCLEVBRWlCLE8sNEZBRmpCdEIsQ0FBQSxLQUFBK0osSUFDbER6SSxFQUFBdUgsRUFBQUMsS0FBQSxLQUFNWCxJQUNEOUgseUJBQTJCUixFQUF3QnlJLEtBQUltQixFQUFBbkksSUFBT0EsQ0FDckUsQ0FhQyxPLEVBYkF5SSxHLEVBQUEsRUFBQWhKLElBQUEsT0FBQUMsTUFFRCxTQUFLSyxFQUFLMkksR0FDUmYsRUFBQUMsRUFBQWEsRUFBQVosV0FBQSxhQUFBTCxLQUFBLE1BQ0E3SSxLQUFLZ0ssTUFBUUQsQ0FDZixHQUFDLENBQUFqSixJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUFzQixFQUFBLEtBQ2xCMkcsRUFBQUMsRUFBQWEsRUFBQVosV0FBQSwwQkFBQUwsS0FBQSxNQUNBN0ksS0FBS21JLGNBQWM1RixpQkFBaUIsVUFBVSxTQUFDbkIsR0FDN0NpQixFQUFLakMseUJBQXlCZ0IsRUFBS2lCLEVBQUsySCxPQUN4QzNILEVBQUtrRyxPQUNQLEdBQ0YsTSxvRUFBQ3VCLENBQUEsQ0FqQitCLENBQVM3QixHLG1xQkNGcEMsSUM4Q0hnQyxFRDlDU0MsRUFBUSxXQUNuQixTQUFBQSxFQUFZQyxFQUFjQyxJLDRGQUFjckssQ0FBQSxLQUFBbUssR0FDdENsSyxLQUFLcUssY0FBZ0JySixTQUFTQyxjQUFja0osR0FDNUNuSyxLQUFLc0ssY0FBZ0J0SixTQUFTQyxjQUFjbUosRUFDOUMsQyxRQWNDLE8sRUFaREYsRyxFQUFBLEVBQUFwSixJQUFBLGNBQUFDLE1BQ0EsV0FDRSxNQUFPLENBQ0wyQixLQUFNMUMsS0FBS3FLLGNBQWN4SSxZQUN6QjBJLEtBQU12SyxLQUFLc0ssY0FBY3pJLFlBRTdCLEdBRUEsQ0FBQWYsSUFBQSxjQUFBQyxNQUNBLFNBQVkyQixFQUFNNkgsR0FDaEJ2SyxLQUFLcUssY0FBY3hJLFlBQWNhLEVBQ2pDMUMsS0FBS3NLLGNBQWN6SSxZQUFjMEksQ0FDbkMsTSxvRUFBQ0wsQ0FBQSxDQWxCa0IsR0NtQ2ZySyxFQUFNLElBQUk2RyxFQUFJLENBQ2xCRyxRQUFTLDhDQUNURSxRQUFTLENBQ1B5RCxjQUFlLHVDQUNmLGVBQWdCLHNCQUtkQyxFQUFrQixJQUFJUCxFQUFTLGtCQUFtQixzQkFHeERySyxFQUFJNksscUJBQXFCbEosTUFBSyxTQUFDbUosR0FDN0JGLEVBQWdCRyxZQUFZRCxFQUFTakksS0FBTWlJLEVBQVNqRCxPQUNwRGhFLEVBQVVYLElBQU00SCxFQUFTM0MsT0FJekJuSSxFQUFJZ0wsa0JBQ0RySixNQUFLLFNBQUMvQixJQUNMd0ssRUFBVyxJQUFJbEUsRUFBUSxDQUNyQkcsTUFBT3pHLEVBQ1AwRyxTQUFVLFNBQUNJLEdBQ1QsSUFBTXVFLEVBQWNDLEdBQVd4RSxFQUFNb0UsRUFBU2hLLEtBQzlDc0osRUFBU2UsUUFBUUYsRUFDbkIsR0FFQSxjQUNPRyxhQUNYLElBQ0NsSixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsR0FDSixJQUNHRCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsSUFJRixJQUFNa0osR0FBbUIsSUFBSS9CLEVBQWMsZUFBZSxTQUFDL0gsRUFBSzNCLEVBQU0wTCxHQUNwRSxJQUFRekksRUFBZWpELEVBQWZpRCxLQUFNNkgsRUFBUzlLLEVBQVQ4SyxLQUVkYSxHQUFjRCxFQUFRLGlCQUV0QnRMLEVBQUl3TCxxQkFBcUIzSSxFQUFNNkgsR0FDNUIvSSxNQUFLLFNBQUMvQixHQUNMZ0wsRUFBZ0JHLFlBQVlsSSxFQUFNNkgsRUFDcEMsSUFDQ3hJLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxJQUNDc0osU0FBUSxXQUNQRixHQUFjRCxFQUFRLGFBQ3RCRCxHQUFpQjNDLE9BQ25CLEdBQ0osSUFDRSxHQU1GLFNBQVM2QyxHQUFjRCxFQUFRSSxHQUM3QkosRUFBT3RKLFlBQWMwSixDQUN2QixDQU5BTCxHQUFpQk0sb0JBU2pCLElBQU1DLEdBQWUsSUFBSXRDLEVBQWMsY0F1Q2hDLFNBQThCL0gsRUFBSzNCLEVBQU0wTCxHQUM5Qy9KLEVBQUk0RCxpQkFFSm9HLEdBQWNELEVBQVEsaUJBQ3RCdEwsRUFBSTZMLFdBQVdqTSxFQUFLaUQsS0FBTWpELEVBQUtrRCxNQUM1Qm5CLE1BQUssU0FBQy9CLEdBQ0wsSUFBTXFMLEVBQWNDLEdBQVd0TCxHQUMvQndLLEVBQVNlLFFBQVFGLEdBQ2pCVyxHQUFhbEQsTUFBTWtELEdBQ3JCLElBQ0MxSixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsSUFDQ3NKLFNBQVEsV0FDUEYsR0FBY0QsRUFBUSxXQUN4QixHQUNKLElBdkQyRSxHQUMzRU0sR0FBYUQsb0JBR2IsSUFBTUcsR0FBaUIsSUFBSWxELEVBQWUsY0FDMUNrRCxHQUFlSCxvQkFHZixJQUFNSSxHQUFlLElBQUk5QixFQUFzQixrQkFJL0MsU0FBaUMxSSxFQUFLMkksR0FDcEMzSSxFQUFJNEQsaUJBRUpuRixFQUFJZ00sVUFBVTlCLEVBQUsrQixVQUFVbkwsS0FDMUJhLE1BQUssU0FBQy9CLEdBQ0xtTSxHQUFhckQsUUFDYndCLEVBQUtnQyxZQUNQLElBQ0NoSyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsR0FDSixJQWYwRixHQWtCMUYsU0FBUytJLEdBQVd4RSxFQUFNekcsR0FPeEIsT0FMYSxJQUFJTixFQUFLK0csRUFBTSxRQUFTb0YsR0FBZUssS0FBSzNELEtBQUtzRCxJQUM1REMsR0FBYUksS0FBSzNELEtBQUt1RCxJQUFlL0wsRUFBS0MsR0FHcEJtTSxjQUUzQixDQXpCQUwsR0FBYUosb0JBa0RiLElBRTBCNUgsR0FGcEJzSSxHQUFpQixDQUFDLEVBRUV0SSxHVG5LSSxDQUM1QnVJLGFBQWMsZUFDZDFILGNBQWUsZ0JBQ2ZFLHFCQUFzQixpQkFDdEJpQixvQkFBcUIseUJBQ3JCSixnQkFBaUIsMEJBQ2pCQyxXQUFZLHdCUzhKS25CLE1BQU1DLEtBQUt2RCxTQUFTd0QsaUJBQWlCWixHQUFldUksZUFDNURqSSxTQUFRLFNBQUNMLEdBQ2hCLElBQU11SSxFQUFZLElBQUl6SSxFQUFjQyxHQUFnQkMsR0FFOUN3SSxFQUFXeEksRUFBWXlJLGFBQWEsUUFFMUNKLEdBQWVHLEdBQVlELEVBQzNCQSxFQUFVRyxrQkFDWixJQVFGcEosRUFBa0JaLGlCQUFpQixTQUFTLFNBQVVuQixHQU10RCxJQUF1Qm9MLEVBQ2YvTSxFQURlK00sRUFMUHRCLEdBTVJ6TCxFQU4wQmdMLEVBTWRnQyxjQUNsQm5KLEVBQVV2QyxNQUFRdEIsRUFBS2lELEtBQ3ZCYSxFQUFVeEMsTUFBUXRCLEVBQUs4SyxLQUN2QmlDLEVBQU1SLE9BQ05FLEdBQWUsZ0JBQWdCUSxpQkFUakMsSUFrQkFsSixFQUFpQmpCLGlCQUFpQixTQUFTLFNBQVVuQixHQUxyRCxJQUFzQm9MLEtBTVBmLElBTFBPLEtBQUtRLEVBTWIsSUFJQSxJQUFNRyxHQUFjLElBQUl4RCxFQUFjLGlCQUsvQixTQUFnQy9ILEVBQUszQixFQUFNMEwsR0FDaEQvSixFQUFJNEQsaUJBRUpvRyxHQUFjRCxFQUFRLGlCQUN0QnRMLEVBQUkrTSxhQUFhbk4sRUFBS3VJLFFBQ25CeEcsTUFBSyxTQUFDL0IsR0FDTGlFLEVBQVVYLElBQU10RCxFQUFLdUksTUFDdkIsSUFDQ2pHLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxJQUNDc0osU0FBUSxXQUNQRixHQUFjRCxFQUFRLGFBQ3RCd0IsR0FBWXBFLE9BQ2QsR0FDSixJQXBCK0UsR0FDL0VvRSxHQUFZbkIsb0JBc0JaL0gsRUFBYWxCLGlCQUFpQixTQUFTLFNBQVVuQixHQUtqRCxJQUF5Qm9MLEtBSlBHLElBS1ZYLEtBQUtRLEVBSmIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRm9ybUNvbmZpcm1TdWJtaXQsIGFwaSwgdXNlcklkKSB7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1Db25maXJtU3VibWl0ID0gaGFuZGxlRm9ybUNvbmZpcm1TdWJtaXQ7XG4gICAgdGhpcy5fYXBpID0gYXBpO1xuICAgIHRoaXMuX2xpa2VkID0gZGF0YS5saWtlcy5maW5kKChlbCkgPT4gZWwuX2lkID09PSB1c2VySWQpICE9PSB1bmRlZmluZWQ7XG4gICAgdGhpcy5faXNNeSA9IGRhdGEub3duZXIuX2lkID09PSB1c2VySWQ7XG4gIH1cblxuICBnZXREYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9XG4gIC8vINCS0L7Qt9Cy0YDQsNGJ0LDRjiDRgNCw0LfQvNC10YLQutGDXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQvtCx0YDQsNCx0L7RgtC60Lgg0YHQvtCx0YvRgtC40LkgKNCb0LDQudC6INC60LDRgNGC0L7Rh9C60LgpXG4gIF9oYW5kbGVMaWtlQ2FyZChldnQpIHtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuX2xpa2VkKSB7XG4gICAgICByZXNwb25zZSA9IHRoaXMuX2FwaS5kZWxldExpa2UodGhpcy5fZGF0YS5faWQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVzcG9uc2UgPSB0aGlzLl9hcGkuc2V0TGlrZSh0aGlzLl9kYXRhLl9pZClcbiAgICB9XG5cbiAgICByZXNwb25zZS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2ljb24tbGlrZV9hY3RpdmUnKTtcbiAgICAgIGlmICh0aGlzLl9saWtlZCkge1xuICAgICAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGggKyAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9saWtlZCA9ICF0aGlzLl9saWtlZFxuICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQvtCx0YDQsNCx0L7RgtC60Lgg0YHQvtCx0YvRgtC40LkgKNCj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuClcbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQtNC+0LHQsNCy0LvRj9GO0YnQuNC5INCy0YHQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQoZXZ0KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9kYXRhLm5hbWUsIHRoaXMuX2RhdGEubGluaylcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtQ29uZmlybVN1Ym1pdChldnQsIHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0J/QvtC00LPQvtGC0L7QstC60LAg0LrQsNGA0YLQvtGH0LrQuCDQuiDQv9GD0LHQu9C40LrQsNGG0LjQuFxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pY29uLWxpa2UnKTtcbiAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7XG4gICAgdGhpcy5fbGlrZXNDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2NvdW50ZXInKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX2RhdGEubmFtZTtcbiAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGV4dCcpLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5uYW1lO1xuXG4gICAgaWYgKHRoaXMuX2xpa2VkKSB7XG4gICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19pY29uLWxpa2VfYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9pc015KSB7XG4gICAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG5cblxuXG4iLCIvL9Ce0LHRitC10LrRgiDQvdCw0YHRgtGA0L7QtdC6XG5leHBvcnQgY29uc3Qgc2V0dGluZ3NPYmplY3QgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2ZpZWxkJyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2ZpZWxkX3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXG59O1xuXG4vLyDQn9C10YDQtdC80LXQvdC90YvQtSDQvtGC0LrRgNGL0YLQuNGPINC4INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbi8vINCk0L7RgNC80LAg0L7RgtC60YDRi9Cy0LDQtdGC0YHRjyDQvdCw0LbQsNGC0LjQtdC8INC90LAg0LrQvdC+0L/QutGDIMKrZWRpdMK7INC4INC30LDQutGA0YvQstCw0LXRgtGB0Y8g0LrQu9C40LrQvtC8INC90LAg0LrRgNC10YHRgtC40LpcbmV4cG9ydCBjb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcG9wdXBGb3JtRWRpdCA9IGRvY3VtZW50LmZvcm1zWydlZGl0LXByb2ZpbGUnXTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBwb3B1cEZvcm1FZGl0LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZmllbGRfdGV4dF9uYW1lJyk7XG5leHBvcnQgY29uc3QgaW5mb0lucHV0ID0gcG9wdXBGb3JtRWRpdC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ZpZWxkX3RleHRfaW5mbycpO1xuZXhwb3J0IGNvbnN0IGNhcmRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpO1xuLy8g0J/QtdGA0LXQvNC10L3QvdGL0LUg0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQtdC6XG4vLyDQpNC+0YDQvNCwINC+0YLQutGA0YvQstCw0LXRgtGB0Y8g0L3QsNC20LDRgtC40LXQvCDQvdCwINC60L3QvtC/0LrRgyDCqyvCuyDQuCDQt9Cw0LrRgNGL0LLQsNC10YLRgdGPINC60LvQuNC60L7QvCDQvdCwINC60YDQtdGB0YLQuNC6XG5leHBvcnQgY29uc3QgcHJvZmlsZUFkZEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcbi8vIC8vINCf0LXRgNC10LzQtdC90L3Ri9C1INC/0L7Qv9Cw0L/QsCBcItCe0LHQvdC+0LLQuNGC0Ywg0LDQstCw0YLQsNGAXCJcbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGF2YXRhckltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3NPYmplY3QsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3NPYmplY3QgPSBzZXR0aW5nc09iamVjdDtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5nc09iamVjdC5pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3NPYmplY3Quc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudHMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICB0aGlzLl9lcnJvckVsZW1lbnRzW2lucHV0RWxlbWVudC5pZF0gPSBlcnJvcjtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0LLQutC70Y7Rh9C10L3QuNGPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLIGVuYWJsZVZhbGlkYXRpb25cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBldnQgPT4gZXZ0LnByZXZlbnREZWZhdWx0KCkpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgLy8g0JzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC+0LLQtdGA0Y/QtdGCINCy0LDQu9C40LTQvdC+0YHRgtGMINC/0L7Qu9GPINC4INC/0L7QutCw0LfRi9Cy0LDQtdGCL9GB0LrRgNGL0LLQsNC10YIg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZXJyb3JFbGVtZW50c1tpbnB1dEVsZW1lbnQuaWRdO1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAvLyDQldGB0LvQuCDQv9C+0LvQtSDQvdC1INC/0YDQvtGF0L7QtNC40YIg0LLQsNC70LjQtNCw0YbQuNGOLCDQv9C+0LrQsNC20LXQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGVycm9yRWxlbWVudCwgaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDQldGB0LvQuCDQv9GA0L7RhdC+0LTQuNGCLCDRgdC60YDQvtC10LxcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGVycm9yRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLy8g0JzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LTQvtCx0LDQstC70Y/QtdGCINC60LvQsNGB0YEg0YEg0L7RiNC40LHQutC+0LlcbiAgX3Nob3dJbnB1dEVycm9yKGVycm9yRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5nc09iamVjdC5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5nc09iamVjdC5lcnJvckNsYXNzKTtcbiAgfTtcblxuICAvLyDQnNC10YLQvtC0LCDQutC+0YLQvtGA0LDRjyDRg9C00LDQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gIF9oaWRlSW5wdXRFcnJvcihlcnJvckVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzT2JqZWN0LmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3NPYmplY3QuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH07XG5cbiAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INCy0YHQtSDQv9C+0LvRjyDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIC8vINCV0YHQu9C4INC/0L7Qu9C1INC90LUg0LLQsNC70LjQtNC90L4sINC60L7Qu9Cx0Y3QuiDQstC10YDQvdGR0YIgdHJ1ZVxuICAgICAgLy8g0J7QsdGF0L7QtCDQvNCw0YHRgdC40LLQsCDQv9GA0LXQutGA0LDRgtC40YLRgdGPINC4INCy0YHRjyDRhNGD0L3QutGG0LjRj1xuICAgICAgLy8gaGFzSW52YWxpZElucHV0INCy0LXRgNC90ZHRgiB0cnVlXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyDQnNC10YLQvtC0INC40LfQvNC10L3QtdC90LjRjyDRgdC+0YHRgtC+0Y/QvdC40Y8g0LrQvdC+0L/QutC4INGB0LDQsdC80LjRgtCwXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICAvLyDQldGB0LvQuCDQtdGB0YLRjCDRhdC+0YLRjyDQsdGLINC+0LTQuNC9INC90LXQstCw0LvQuNC00L3Ri9C5INC40L3Qv9GD0YJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIC8vINGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0L3QtdCw0LrRgtC40LLQvdC+0LlcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b25TdWJtaXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g0LjQvdCw0YfQtSDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINCw0LrRgtC40LLQvdC+0LlcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5nc09iamVjdC5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vINCc0LXRgtC+0LQg0YHQtNC10LvQsNGC0Ywg0LrQvdC+0L/QutGDIHN1Ym1pdCDQvdC1INCw0LrRgtC40LLQvdC+0Lkg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9CwXG4gIF9kaXNhYmxlQnV0dG9uU3VibWl0KCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5nc09iamVjdC5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gIH07XG5cbiAgLy8g0JzQtdGC0L7QtCDQvtGH0LjRgdGC0LrQuCDQv9C+0LvQtdC5INC+0YIg0L7RiNC40LHQutC4XG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Vycm9yRWxlbWVudHNbaW5wdXRFbGVtZW50LmlkXTtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGVycm9yRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINCc0LXRgtC+0LQg0LTQvtCx0LDQstC70Y/RjtGJ0LjQuSDQstGB0LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCBfc2V0RXZlbnRMaXN0ZW5lcnNcbiAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyINCy0YHQtdC8INC/0L7Qu9GP0Lwg0YTQvtGA0LzRi1xuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uU3VibWl0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIC8v0J/RgNC+0LnQtNC10LzRgdGPINC/0L4g0LrQsNC20LTQvtC80YMg0LjQvNC/0YPRgtGDINC4INCy0YvQt9C+0LLQtdC8INC00LvRjyDQutCw0LbQtNC+0LPQviDQuNC3INC90LjRhSDRhNGD0L3QutGG0LjRjiBjaGVja0lucHV0VmFsaWRpdHlcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAvLyDQktGL0LfQvtCy0LXQvCDRhNGD0L3QutGG0LjRjiDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuFxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQvtGC0LLQtdGH0LDRjtGJ0LjQuSDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LJcbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC/0YDQuNC90LjQvNCw0Y7RidC40LkgRE9NLdGN0LvQtdC80LXQvdGCINC4INC00L7QsdCw0LLQu9GP0LXRgiDQtdCz0L4g0LIg0LrQvtC90YLQtdC50L3QtdGAXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG5cblxuXG5cblxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICAvLyDQn9C+0YHQu9Cw0YLRjCDQt9Cw0L/RgNC+0YFcbiAgX3NlbmRSZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucylcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICB9XG5cbiAgLy8g0J/QvtC70YPRh9C40YLRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0YEg0YHQtdGA0LLQtdGA0LBcbiAgZ2V0VXNlckluZm9ybWF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgfVxuXG4gIC8vINCf0L7Qu9GD0YfQuNGC0Ywg0L3QsNGH0LDQu9GM0L3Ri9C1INC60LDRgNGC0L7Rh9C60Lgg0YEg0YHQtdGA0LLQtdGA0LBcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgfVxuXG4gIC8vINCh0L7RhdGA0LDQvdC40YLRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdC10YDQstC10YDQtVxuICBzYXZldFVzZXJJbmZvcm1hdGlvbihuYW1lLCBhYm91dCkge1xuICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5faGVhZGVycywgLi4ueyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvLyDQlNC+0LHQsNCy0LjRgtGMINC90LAg0YHQtdGA0LLQtdGAINC90L7QstGD0Y4g0LrQsNGA0YLQvtGH0LrRg1xuICBhZGROZXdDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5faGVhZGVycywgLi4ueyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGlua1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLy8g0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gIGRlbGV00KFhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgfVxuXG4gIC8vINCf0L7RgdGC0LDQvdC+0LLQutCwINC4INGB0L3Rj9GC0LjQtSDQu9Cw0LnQutCwXG4gIC8vINCf0L7RgdGC0LDQvdC+0LLQutCwINC70LDQudC60LBcbiAgc2V0TGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICB9XG4gIC8vINCh0L3Rj9GC0LjQtSDQu9Cw0LnQutCwXG4gIGRlbGV0TGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICB9XG5cbiAgLy8g0J7QsdC90L7QstC70LXQvdC40LUg0LDQstCw0YLQsNGA0LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGNoYW5nZdCQdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRSZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5faGVhZGVycywgLi4ueyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIsXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vINCe0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsFxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgLy8g0J7RgtCy0LXRh9Cw0LXRgiDQt9CwINC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuXG4gIH1cblxuICAvLyDQodC+0LTQtdGA0LbQuNGCINC70L7Qs9C40LrRgyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9C+IEVzY1xuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vINCh0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC00LvRjyBcIlhcIiDQuCDQvdCwINCe0LLQtdGA0LvQtdC5XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgfVxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtaWNvbicpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcbiAgICB0aGlzLl9wb3B1cFRleHQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0Jyk7XG4gIH1cbiAgLy8g0JLRgdGC0LDQstC70Y/QtdGCINCyINC/0L7Qv9Cw0L8g0LrQsNGA0YLQuNC90LrRgyDRgSBzcmMg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQuCDQv9C+0LTQv9C40YHRjNGOINC6INC60LDRgNGC0LjQvdC60LVcbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBUZXh0LnRleHRDb250ZW50ID0gbmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1DYXJkU3VibWl0LCByZXNldEZvcm1PbkNsb3NlKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcmVzZXRGb3JtT25DbG9zZSA9IHJlc2V0Rm9ybU9uQ2xvc2U7XG4gICAgdGhpcy5faGFuZGxlRm9ybUNhcmRTdWJtaXQgPSBoYW5kbGVGb3JtQ2FyZFN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIHRoaXMuX3BvcHVwQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XG4gIH1cbiAgLy8g0KHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dHMgPSB7fVxuICAgIEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaW5wdXRzW2VsZW1lbnQubmFtZV0gPSBlbGVtZW50LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dHM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtQ2FyZFN1Ym1pdChldnQsIHRoaXMuX2dldElucHV0VmFsdWVzKCksIHRoaXMuX3BvcHVwQnV0dG9uKVxuICAgIH0pO1xuICB9XG5cbiAgLy8g0KHQsdGA0LDRgdGL0LLQsNC10YLRgdGPINGE0L7RgNC80LBcbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICBpZiAodGhpcy5fcmVzZXRGb3JtT25DbG9zZSkge1xuICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybUNvbmZpcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtQ29uZmlybVN1Ym1pdCA9IGhhbmRsZUZvcm1Db25maXJtU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKGV2dCwgY2FyZCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9jYXJkID0gY2FyZDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1Db25maXJtU3VibWl0KGV2dCwgdGhpcy5fY2FyZCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3RvciwgaW5mb1NlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2luZm9TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb1NlbGVjdG9yKTtcbiAgfVxuXG4gIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVTZWxlY3Rvci50ZXh0Q29udGVudCxcbiAgICAgIGluZm86IHRoaXMuX2luZm9TZWxlY3Rvci50ZXh0Q29udGVudCxcbiAgICB9XG4gIH1cblxuICAvLyDQn9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRg1xuICBzZXRVc2VySW5mbyhuYW1lLCBpbmZvKSB7XG4gICAgdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9pbmZvU2VsZWN0b3IudGV4dENvbnRlbnQgPSBpbmZvO1xuICB9XG59XG4iLCIvLyDQmNC80L/QvtGA0YIg0LPQu9Cw0LLQvdC+0LPQviDRhNCw0LnQu9CwINGB0YLQuNC70LXQuVxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG4vLyDQmNC80L/QvtGA0YIg0LrQu9Cw0YHRgdCwIENhcmRcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG4vLyDQmNC80L/QvtGA0YIg0LzQsNGB0YHQuNCy0LAg0L7QsdGK0LXQutGC0L7QslxuLy8gaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSAnLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMnO1xuLy8g0JjQvNC/0L7RgNGCINC+0LHRitC10LrRgtCwINC90LDRgdGC0YDQvtC10LpcbmltcG9ydCB7IHNldHRpbmdzT2JqZWN0IH0gZnJvbSAnLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMnO1xuLy8g0JjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCBGb3JtVmFsaWRhdG9yXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuLy8g0JjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCBTZWN0aW9uXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuLy8g0JjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCBBcGlcbmltcG9ydCB7IEFwaSB9IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMnO1xuLy8g0JjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCBQb3B1cFdpdGhJbWFnZVxuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuLy8g0JjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCBQb3B1cFdpdGhGb3JtXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuLy8g0JjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCBQb3B1cFdpdGhDb25maXJtYXRpb25cbmltcG9ydCB7IFBvcHVwV2l0aENvbmZpcm1hdGlvbiB9IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMnO1xuLy8g0JjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCBVc2VySW5mb1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuLy8g0J/QtdGA0LXQvNC10L3QvdGL0LUg0L7RgtC60YDRi9GC0LjRjyDQuCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG4vLyDQpNC+0YDQvNCwINC+0YLQutGA0YvQstCw0LXRgtGB0Y8g0L3QsNC20LDRgtC40LXQvCDQvdCwINC60L3QvtC/0LrRgyDCq2VkaXTCuyDQuCDQt9Cw0LrRgNGL0LLQsNC10YLRgdGPINC60LvQuNC60L7QvCDQvdCwICdYJ1xuaW1wb3J0IHsgcHJvZmlsZUVkaXRCdXR0b24gfSBmcm9tICcuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBuYW1lSW5wdXQgfSBmcm9tICcuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBpbmZvSW5wdXQgfSBmcm9tICcuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyc7XG4vLyDQn9C10YDQtdC80LXQvdC90YvQtSDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10LpcbmltcG9ydCB7IHByb2ZpbGVBZGRCdXR0b24gfSBmcm9tICcuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyc7XG4vLyDQn9C10YDQtdC80LXQvdC90YvQtSDQv9C+0L/QsNC/0LAgXCLQntCx0L3QvtCy0LjRgtGMINCw0LLQsNGC0LDRgFwiXG5pbXBvcnQgeyBhdmF0YXJCdXR0b24gfSBmcm9tICcuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBhdmF0YXJJbWcgfSBmcm9tICcuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cblxuLy8g0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQvtCyINC60LvQsNGB0YHQsCBBcGlcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02NicsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnZTljNjcxYzQtYzRkOC00OTQyLTkwMjAtOTc3ZmRmYzFhM2Q3JyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pO1xuXG4vLyDQodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNC+0LIg0LrQu9Cw0YHRgdCwIFVzZXJJbmZvXG5jb25zdCB1c2VySW5mb1Byb2ZpbGUgPSBuZXcgVXNlckluZm8oJy5wcm9maWxlX190aXRsZScsICcucHJvZmlsZV9fc3VidGl0bGUnKTtcblxubGV0IGNhcmRMaXN0O1xuYXBpLmdldFVzZXJJbmZvcm1hdGlvbigpLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gIHVzZXJJbmZvUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dClcbiAgYXZhdGFySW1nLnNyYyA9IHVzZXJEYXRhLmF2YXRhcjtcbiAgLy8g0J/Rg9Cx0LvQuNC60LDRhtC40Y8g0LrQsNGA0YLQvtGH0LXQulxuICAvLyDQntGC0YDQuNGB0L7QstC60LAg0LrQsNC20LTQvtCz0L4g0L7RgtC00LXQu9GM0L3QvtCz0L4g0Y3Qu9C10LzQtdC90YLQsFxuICAvLyDQpNGD0L3QutGG0LjRjyByZW5kZXJlclxuICBhcGkuZ2V0SW5pdGlhbENhcmRzKClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XG4gICAgICAgIGl0ZW1zOiBkYXRhLFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSwgdXNlckRhdGEuX2lkKTtcbiAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICAgJy5lbGVtZW50cycpO1xuICAgICAgY2FyZExpc3QucmVuZGVySXRlbXMoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KTtcbn0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gIH0pO1xuXG5cbi8vINCh0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0L7QsiDQutC70LDRgdGB0LAgUG9wdXBXaXRoRm9ybSDQtNC70Y8g0L/QvtC/0LDQv9CwIFwi0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1wiXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9lZGl0JywgKGV2dCwgZGF0YSwgYnV0dG9uKSA9PiB7XG4gIGNvbnN0IHsgbmFtZSwgaW5mbyB9ID0gZGF0YTtcblxuICByZW5kZXJMb2FkaW5nKGJ1dHRvbiwgJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XG5cbiAgYXBpLnNhdmV0VXNlckluZm9ybWF0aW9uKG5hbWUsIGluZm8pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvUHJvZmlsZS5zZXRVc2VySW5mbyhuYW1lLCBpbmZvKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHJlbmRlckxvYWRpbmcoYnV0dG9uLCAn0KHQvtGF0YDQsNC90LjRgtGMJyk7XG4gICAgICBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKCk7XG4gICAgfSk7XG59LFxuICBmYWxzZVxuKTtcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vLyDQpNGD0L3QutGG0LjRjyDQutC+0YLQvtGA0Y8g0LzQtdC90Y/QtdGCINGC0LXQutGB0YIg0LrQvdC+0L/QutC4LCDQv9C+0LrQsCDQuNC00LXRgiDQt9Cw0LPRgNGD0LfQutCwXG5mdW5jdGlvbiByZW5kZXJMb2FkaW5nKGJ1dHRvbiwgdGV4dCkge1xuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xufVxuXG4vLyDQodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNC+0LIg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEZvcm0g0LTQu9GPINC/0L7Qv9Cw0L/QsCBcItCU0L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcIlxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9hZGQnLCBoYW5kbGVGb3JtQ2FyZFN1Ym1pdCwgdHJ1ZSk7XG5wb3B1cEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQvtCyINC60LvQsNGB0YHQsCBQb3B1cFdpdGhJbWFnZVxuY29uc3QgcG9wdXBPcGVuSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9pbWcnKTtcbnBvcHVwT3BlbkltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCh0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0L7QsiDQutC70LDRgdGB0LAgUG9wdXBXaXRoQ29uZmlybWF0aW9uINC00LvRjyDQv9C+0L/QsNC/0LAgXCLQo9C00LDQu9C40YLRjCDQutCw0YDRgtC+0YfQutGDXCJcbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oJy5wb3B1cF9jb25maXJtJywgaGFuZGxlRm9ybUNvbmZpcm1TdWJtaXQsIHRydWUpO1xucG9wdXBDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCk0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwIFwi0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XCJcbmZ1bmN0aW9uIGhhbmRsZUZvcm1Db25maXJtU3VibWl0KGV2dCwgY2FyZCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBhcGkuZGVsZXTQoWFyZChjYXJkLmdldERhdGEoKS5faWQpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHBvcHVwQ29uZmlybS5jbG9zZSgpO1xuICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgfSk7XG59XG5cbi8v0KTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtLCB1c2VySWQpIHtcbiAgLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LDRgNGC0L7Rh9C60LhcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0sICcjY2FyZCcsIHBvcHVwT3BlbkltYWdlLm9wZW4uYmluZChwb3B1cE9wZW5JbWFnZSksXG4gICAgcG9wdXBDb25maXJtLm9wZW4uYmluZChwb3B1cENvbmZpcm0pLCBhcGksIHVzZXJJZCxcbiAgKTtcbiAgLy8g0KHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INC4INCy0L7Qt9Cy0YDQsNGJ0LXQvdC40LUg0L3QsNGA0YPQttGDXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5cbi8vINCk0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwIFwi0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFwiXG4vLyDQmCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0L/QvtGB0LvQtSDQt9Cw0L/QvtC70L3QtdC90LjRjyDQv9C+0LvQtdC5XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRm9ybUNhcmRTdWJtaXQoZXZ0LCBkYXRhLCBidXR0b24pIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgcmVuZGVyTG9hZGluZyhidXR0b24sICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xuICBhcGkuYWRkTmV3Q2FyZChkYXRhLm5hbWUsIGRhdGEubGluaylcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEpO1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICBwb3B1cEFkZENhcmQuY2xvc2UocG9wdXBBZGRDYXJkKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHJlbmRlckxvYWRpbmcoYnV0dG9uLCAn0JTQvtCx0LDQstC40YLRjCcpO1xuICAgIH0pO1xufVxuXG5cbi8vINCh0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0L7QsiDQstCw0LvQuNC00LDRgtC+0YDQvtCyINCy0YHQtdGFINGE0L7RgNC8XG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9XG4vLyDQktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHNldHRpbmdzT2JqZWN0KSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzT2JqZWN0LmZvcm1TZWxlY3RvcikpXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3NPYmplY3QsIGZvcm1FbGVtZW50KVxuICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0LTQsNC90L3Ri9C1INC40Lcg0LDRgtGA0LjQsdGD0YLQsCBgbmFtZWAg0YMg0YTQvtGA0LzRi1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAvLyDQstC+0YIg0YLRg9GCINCyINC+0LHRitC10LrRgiDQt9Cw0L/QuNGB0YvQstCw0LXQvCDQv9C+0LQg0LjQvNC10L3QtdC8INGE0L7RgNC80YtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzT2JqZWN0KTtcblxuXG4vLyDQodC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuLy8g0J7RgtC60YDRi9Cy0LDQtdGC0YHRjyDQv9C+INC60L3QvtC/0LrQtSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldnQpIHtcbiAgb3BlblBvcHVwRWRpdChwb3B1cEVkaXRQcm9maWxlLCB1c2VySW5mb1Byb2ZpbGUpO1xufSk7XG5cbi8vINCk0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwIFwi0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQv9GA0L7RhNC40LvRj1wiXG4vLyDQl9Cw0L/QvtC70L3QtdC90LjQtSDQv9C+0LvQtdC5INC/0YDQuCDQutCw0LbQtNC+0Lwg0L7RgtC60YDRi9GC0LjQuFxuZnVuY3Rpb24gb3BlblBvcHVwRWRpdChwb3B1cCwgaW5mbykge1xuICBjb25zdCBkYXRhID0gaW5mby5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSBkYXRhLm5hbWU7XG4gIGluZm9JbnB1dC52YWx1ZSA9IGRhdGEuaW5mbztcbiAgcG9wdXAub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1snZWRpdC1wcm9maWxlJ10ucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5cbi8vINCk0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwIFwi0LTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFwiXG5mdW5jdGlvbiBvcGVuUG9wdXBBZGQocG9wdXApIHtcbiAgcG9wdXAub3Blbihwb3B1cCk7XG59XG5cbi8vINCh0LvRg9GI0LDRgtC10LvRjCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCBcItC00L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcIlxucHJvZmlsZUFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldnQpIHtcbiAgb3BlblBvcHVwQWRkKHBvcHVwQWRkQ2FyZCk7XG59KTtcblxuXG4vLyDQodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNC+0LIg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEZvcm0g0LTQu9GPINC/0L7Qv9Cw0L/QsCBcItCe0LHQvdC+0LLQuNGC0Ywg0LDQstCw0YLQsNGAXCJcbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9hdmF0YXInLCBoYW5kbGVGb3JtQXZhdGFyU3VibWl0LCB0cnVlKTtcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCk0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwIFwi0J7QsdC90L7QstC40YLRjCDQsNCy0LDRgtCw0YBcIlxuLy8g0Jgg0LTQvtCx0L3QvtCy0LvQtdC90LjQtSDQvdC+0LLQvtCz0L4g0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQvdCwINCw0LLQsNGC0LDRgNC60YMg0L/QvtGB0LvQtSDQt9Cw0L/QvtC70L3QtdC90LjRjyDQv9C+0LvQtdC5XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRm9ybUF2YXRhclN1Ym1pdChldnQsIGRhdGEsIGJ1dHRvbikge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICByZW5kZXJMb2FkaW5nKGJ1dHRvbiwgJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XG4gIGFwaS5jaGFuZ2XQkHZhdGFyKGRhdGEuYXZhdGFyKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBhdmF0YXJJbWcuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICByZW5kZXJMb2FkaW5nKGJ1dHRvbiwgJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xuICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcbiAgICB9KTtcbn1cblxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwIFwi0J7QsdC90L7QstC40YLRjCDQsNCy0LDRgtCw0YBcIlxuYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkge1xuICBvcGVuUG9wdXBBdmF0YXIocG9wdXBBdmF0YXIpO1xufSk7XG5cbi8vINCk0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwIFwi0J7QsdC90L7QstC40YLRjCDQsNCy0LDRgtCw0YBcIlxuZnVuY3Rpb24gb3BlblBvcHVwQXZhdGFyKHBvcHVwKSB7XG4gIHBvcHVwLm9wZW4ocG9wdXApO1xufVxuXG5cblxuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUZvcm1Db25maXJtU3VibWl0IiwiYXBpIiwidXNlcklkIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2RhdGEiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUZvcm1Db25maXJtU3VibWl0IiwiX2FwaSIsIl9saWtlZCIsInVuZGVmaW5lZCIsImxpa2VzIiwiZmluZCIsImVsIiwiX2lkIiwiX2lzTXkiLCJvd25lciIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImV2dCIsIl90aGlzIiwiZGVsZXRMaWtlIiwic2V0TGlrZSIsInRoZW4iLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfbGlrZXNDb3VudCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJfdGhpczIiLCJfY2FyZExpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VDYXJkIiwiX2NhcmRJbWFnZSIsIm5hbWUiLCJsaW5rIiwiX2NhcmREZWxldGVCdXR0b24iLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJhZGQiLCJwcm9maWxlIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwb3B1cEZvcm1FZGl0IiwiZm9ybXMiLCJuYW1lSW5wdXQiLCJpbmZvSW5wdXQiLCJwcm9maWxlQWRkQnV0dG9uIiwiYXZhdGFyQnV0dG9uIiwiYXZhdGFySW1nIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzT2JqZWN0IiwiZm9ybUVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJfZGlzYWJsZUJ1dHRvblN1Ym1pdCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dExpc3QiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXR0aW5nc09iamVjdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9lcnJvckVsZW1lbnRzIiwiZXJyb3IiLCJjb25jYXQiLCJpZCIsInByZXZlbnREZWZhdWx0IiwiZXJyb3JFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiQXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInVybCIsImZldGNoIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIl9zZW5kUmVxdWVzdCIsIm1ldGhvZCIsImFib3V0IiwiX29iamVjdFNwcmVhZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYXZhdGFyIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiY2FsbCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGV4dCIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybUNhcmRTdWJtaXQiLCJyZXNldEZvcm1PbkNsb3NlIiwiX3Jlc2V0Rm9ybU9uQ2xvc2UiLCJfaGFuZGxlRm9ybUNhcmRTdWJtaXQiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2Zvcm0iLCJfcG9wdXBCdXR0b24iLCJpbnB1dHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsImNhcmQiLCJfY2FyZCIsImNhcmRMaXN0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJpbmZvU2VsZWN0b3IiLCJfbmFtZVNlbGVjdG9yIiwiX2luZm9TZWxlY3RvciIsImluZm8iLCJhdXRob3JpemF0aW9uIiwidXNlckluZm9Qcm9maWxlIiwiZ2V0VXNlckluZm9ybWF0aW9uIiwidXNlckRhdGEiLCJzZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInBvcHVwRWRpdFByb2ZpbGUiLCJidXR0b24iLCJyZW5kZXJMb2FkaW5nIiwic2F2ZXRVc2VySW5mb3JtYXRpb24iLCJmaW5hbGx5IiwidGV4dCIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBBZGRDYXJkIiwiYWRkTmV3Q2FyZCIsInBvcHVwT3BlbkltYWdlIiwicG9wdXBDb25maXJtIiwiZGVsZXTQoWFyZCIsImdldERhdGEiLCJkZWxldGVDYXJkIiwib3BlbiIsImdlbmVyYXRlQ2FyZCIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybVNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXAiLCJnZXRVc2VySW5mbyIsInJlc2V0VmFsaWRhdGlvbiIsInBvcHVwQXZhdGFyIiwiY2hhbmdl0JB2YXRhciJdLCJzb3VyY2VSb290IjoiIn0=